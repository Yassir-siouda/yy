{"ast":null,"code":"var _jsxFileName = \"/Users/yassirsiouda/Desktop/shop-main/src/compenent/FactureAffichage/FactureAffichage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport supabase from '../../supabase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FactureAffichage = () => {\n  _s();\n  const [factures, setFactures] = useState([]);\n  const [isEditing, setIsEditing] = useState(false);\n  const [currentFacture, setCurrentFacture] = useState(null);\n\n  // Charger toutes les factures\n  useEffect(() => {\n    const fetchFactures = async () => {\n      let {\n        data: factures,\n        error\n      } = await supabase.from('Facture').select('*');\n      if (error) console.error('Erreur lors de la récupération des factures', error);else setFactures(factures);\n    };\n    fetchFactures();\n  }, []);\n\n  // Supprimer une facture\n  const handleDelete = async id => {\n    const {\n      error\n    } = await supabase.from('Facture').delete().match({\n      id\n    });\n    if (error) console.error('Erreur lors de la suppression', error);else setFactures(factures.filter(facture => facture.id !== id));\n  };\n\n  // Commencer l'édition d'une facture\n  const startEdit = facture => {\n    setIsEditing(true);\n    setCurrentFacture(facture);\n  };\n\n  // Gérer la soumission des modifications\n  const handleEditSubmit = async e => {\n    e.preventDefault();\n    const {\n      error\n    } = await supabase.from('Facture').update({\n      Client: currentFacture.Client,\n      DelaiDeReglement: currentFacture.DelaiDeReglement\n      // Continuez pour les autres champs\n    }).match({\n      id: currentFacture.id\n    });\n    if (error) {\n      console.error('Erreur lors de la mise à jour', error);\n    } else {\n      setIsEditing(false);\n      setCurrentFacture(null);\n      // Recharger les factures ou mettre à jour l'état localement\n    }\n  };\n\n  // Gérer les changements dans les champs de formulaire en mode édition\n  const handleEditChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setCurrentFacture({\n      ...currentFacture,\n      [name]: value\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Affichage des Factures\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), isEditing ? /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleEditSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"Client\",\n        value: currentFacture.Client,\n        onChange: handleEditChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Soumettre les modifications\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }, this) : factures.map(facture => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Client: \", facture.Client]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => startEdit(facture),\n        children: \"Modifier\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleDelete(facture.id),\n        children: \"Supprimer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 25\n      }, this)]\n    }, facture.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n};\n_s(FactureAffichage, \"ZHY9EuKVia16yamUIQrHT/YC4Ws=\");\n_c = FactureAffichage;\nexport default FactureAffichage;\nvar _c;\n$RefreshReg$(_c, \"FactureAffichage\");","map":{"version":3,"names":["React","useState","useEffect","supabase","jsxDEV","_jsxDEV","FactureAffichage","_s","factures","setFactures","isEditing","setIsEditing","currentFacture","setCurrentFacture","fetchFactures","data","error","from","select","console","handleDelete","id","delete","match","filter","facture","startEdit","handleEditSubmit","e","preventDefault","update","Client","DelaiDeReglement","handleEditChange","name","value","target","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","onChange","map","onClick","_c","$RefreshReg$"],"sources":["/Users/yassirsiouda/Desktop/shop-main/src/compenent/FactureAffichage/FactureAffichage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport supabase from '../../supabase';\n\n\n\nconst FactureAffichage = () => {\n    const [factures, setFactures] = useState([]);\n    const [isEditing, setIsEditing] = useState(false);\n    const [currentFacture, setCurrentFacture] = useState(null);\n\n    // Charger toutes les factures\n    useEffect(() => {\n        const fetchFactures = async () => {\n            let { data: factures, error } = await supabase.from('Facture').select('*');\n            if (error) console.error('Erreur lors de la récupération des factures', error);\n            else setFactures(factures);\n        };\n\n        fetchFactures();\n    }, []);\n\n    // Supprimer une facture\n    const handleDelete = async (id) => {\n        const { error } = await supabase.from('Facture').delete().match({ id });\n        if (error) console.error('Erreur lors de la suppression', error);\n        else setFactures(factures.filter(facture => facture.id !== id));\n    };\n\n    // Commencer l'édition d'une facture\n    const startEdit = (facture) => {\n        setIsEditing(true);\n        setCurrentFacture(facture);\n    };\n\n    // Gérer la soumission des modifications\n    const handleEditSubmit = async (e) => {\n        e.preventDefault();\n        const { error } = await supabase\n            .from('Facture')\n            .update({\n                Client: currentFacture.Client,\n                DelaiDeReglement: currentFacture.DelaiDeReglement,\n                // Continuez pour les autres champs\n            })\n            .match({ id: currentFacture.id });\n\n        if (error) {\n            console.error('Erreur lors de la mise à jour', error);\n        } else {\n            setIsEditing(false);\n            setCurrentFacture(null);\n            // Recharger les factures ou mettre à jour l'état localement\n        }\n    };\n\n    // Gérer les changements dans les champs de formulaire en mode édition\n    const handleEditChange = (e) => {\n        const { name, value } = e.target;\n        setCurrentFacture({ ...currentFacture, [name]: value });\n    };\n\n    return (\n        <div>\n            <h1>Affichage des Factures</h1>\n            {isEditing ? (\n                <form onSubmit={handleEditSubmit}>\n                    {/* Formulaires pour la modification - exemple simplifié */}\n                    <input\n                        type=\"text\"\n                        name=\"Client\"\n                        value={currentFacture.Client}\n                        onChange={handleEditChange}\n                    />\n                    {/* Ajoutez d'autres champs ici */}\n                    <button type=\"submit\">Soumettre les modifications</button>\n                </form>\n            ) : (\n                factures.map(facture => (\n                    <div key={facture.id}>\n                        <p>Client: {facture.Client}</p>\n                        {/* Afficher plus de détails ici */}\n                        <button onClick={() => startEdit(facture)}>Modifier</button>\n                        <button onClick={() => handleDelete(facture.id)}>Supprimer</button>\n                    </div>\n                ))\n            )}\n        </div>\n    );\n};\n\nexport default FactureAffichage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}