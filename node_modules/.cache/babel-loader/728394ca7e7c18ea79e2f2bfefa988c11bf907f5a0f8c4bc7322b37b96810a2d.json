{"ast":null,"code":"var _jsxFileName = \"/Users/yassirsiouda/Desktop/shop-main/src/compenent/Facture/Facture.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport supabase from '../../supabase';\nimport './Facture.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FactureForm = () => {\n  _s();\n  const [formData, setFormData] = useState({\n    Client: '',\n    DelaiDeReglement: '',\n    DateEdition: '',\n    Adresse: '',\n    CodePostal: '',\n    Ville: '',\n    ComplementAdresse: '',\n    Pays: '',\n    Commentaire: '',\n    TotalHT: '',\n    TVA: 20,\n    // La TVA est fixée à 20%\n    TotalTTC: ''\n  });\n  useEffect(() => {\n    // Calculer TotalTTC chaque fois que TotalHT ou TVA change\n    const tvaValue = parseFloat(formData.TVA) / 100;\n    const totalHT = parseFloat(formData.TotalHT);\n    const totalTTC = totalHT + totalHT * tvaValue;\n    if (!isNaN(totalTTC)) {\n      setFormData(prevState => ({\n        ...prevState,\n        TotalTTC: totalTTC.toFixed(2)\n      }));\n    }\n  }, [formData.TotalHT, formData.TVA]);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prevState => ({\n      ...prevState,\n      [name]: value\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const {\n      data,\n      error\n    } = await supabase.from('Facture').insert([formData]);\n    if (error) alert(error.message);else {\n      alert('Facture enregistrée avec succès !');\n      // Réinitialiser le formulaire ici si nécessaire\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"facture-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"Client\",\n      value: formData.Client,\n      onChange: handleChange,\n      placeholder: \"Client\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"date\",\n      name: \"DelaiDeReglement\",\n      value: formData.DelaiDeReglement,\n      onChange: handleChange,\n      placeholder: \"D\\xE9lai de r\\xE8glement\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"date\",\n      name: \"DateEdition\",\n      value: formData.DateEdition,\n      onChange: handleChange,\n      placeholder: \"Date d'\\xE9dition\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"Adresse\",\n      value: formData.Adresse,\n      onChange: handleChange,\n      placeholder: \"Adresse\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"CodePostal\",\n      value: formData.CodePostal,\n      onChange: handleChange,\n      placeholder: \"Code postal\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"Ville\",\n      value: formData.Ville,\n      onChange: handleChange,\n      placeholder: \"Ville\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"ComplementAdresse\",\n      value: formData.ComplementAdresse,\n      onChange: handleChange,\n      placeholder: \"Compl\\xE9ment d'adresse\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"Pays\",\n      value: formData.Pays,\n      onChange: handleChange,\n      placeholder: \"Pays\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      name: \"Commentaire\",\n      value: formData.Commentaire,\n      onChange: handleChange,\n      placeholder: \"Commentaire\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      name: \"TotalHT\",\n      value: formData.TotalHT,\n      onChange: handleChange,\n      placeholder: \"Total HT\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"TotalTTC\",\n      value: formData.TotalTTC,\n      placeholder: \"Total TTC\",\n      readOnly: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Soumettre\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_s(FactureForm, \"msdKmMuIqWrKrvqT+uWV79hUcJE=\");\n_c = FactureForm;\nexport default FactureForm;\nvar _c;\n$RefreshReg$(_c, \"FactureForm\");","map":{"version":3,"names":["React","useState","useEffect","supabase","jsxDEV","_jsxDEV","FactureForm","_s","formData","setFormData","Client","DelaiDeReglement","DateEdition","Adresse","CodePostal","Ville","ComplementAdresse","Pays","Commentaire","TotalHT","TVA","TotalTTC","tvaValue","parseFloat","totalHT","totalTTC","isNaN","prevState","toFixed","handleChange","e","name","value","target","handleSubmit","preventDefault","data","error","from","insert","alert","message","onSubmit","className","children","type","onChange","placeholder","required","fileName","_jsxFileName","lineNumber","columnNumber","readOnly","_c","$RefreshReg$"],"sources":["/Users/yassirsiouda/Desktop/shop-main/src/compenent/Facture/Facture.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\n\nimport supabase from '../../supabase';\n\nimport './Facture.css'; \n\n\n\nconst FactureForm = () => {\n  const [formData, setFormData] = useState({\n    Client: '',\n    DelaiDeReglement: '',\n    DateEdition: '',\n    Adresse: '',\n    CodePostal: '',\n    Ville: '',\n    ComplementAdresse: '',\n    Pays: '',\n    Commentaire: '',\n    TotalHT: '',\n    TVA: 20, // La TVA est fixée à 20%\n    TotalTTC: '',\n  });\n\n  useEffect(() => {\n    // Calculer TotalTTC chaque fois que TotalHT ou TVA change\n    const tvaValue = parseFloat(formData.TVA) / 100;\n    const totalHT = parseFloat(formData.TotalHT);\n    const totalTTC = totalHT + (totalHT * tvaValue);\n    if (!isNaN(totalTTC)) {\n      setFormData(prevState => ({ ...prevState, TotalTTC: totalTTC.toFixed(2) }));\n    }\n  }, [formData.TotalHT, formData.TVA]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prevState => ({\n      ...prevState,\n      [name]: value,\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const { data, error } = await supabase\n      .from('Facture')\n      .insert([formData]);\n\n    if (error) alert(error.message);\n    else {\n      alert('Facture enregistrée avec succès !');\n      // Réinitialiser le formulaire ici si nécessaire\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"facture-form\">\n      <input type=\"text\" name=\"Client\" value={formData.Client} onChange={handleChange} placeholder=\"Client\" required />\n      <input type=\"date\" name=\"DelaiDeReglement\" value={formData.DelaiDeReglement} onChange={handleChange} placeholder=\"Délai de règlement\" required />\n      <input type=\"date\" name=\"DateEdition\" value={formData.DateEdition} onChange={handleChange} placeholder=\"Date d'édition\" required />\n      <input type=\"text\" name=\"Adresse\" value={formData.Adresse} onChange={handleChange} placeholder=\"Adresse\" required />\n      <input type=\"text\" name=\"CodePostal\" value={formData.CodePostal} onChange={handleChange} placeholder=\"Code postal\" required />\n      <input type=\"text\" name=\"Ville\" value={formData.Ville} onChange={handleChange} placeholder=\"Ville\" required />\n      <input type=\"text\" name=\"ComplementAdresse\" value={formData.ComplementAdresse} onChange={handleChange} placeholder=\"Complément d'adresse\" />\n      <input type=\"text\" name=\"Pays\" value={formData.Pays} onChange={handleChange} placeholder=\"Pays\" required />\n      <textarea name=\"Commentaire\" value={formData.Commentaire} onChange={handleChange} placeholder=\"Commentaire\"></textarea>\n      <input type=\"number\" name=\"TotalHT\" value={formData.TotalHT} onChange={handleChange} placeholder=\"Total HT\" required />\n      {/* La TVA est fixée à 20%, pas besoin d'un champ modifiable par l'utilisateur */}\n      <input type=\"text\" name=\"TotalTTC\" value={formData.TotalTTC} placeholder=\"Total TTC\" readOnly />\n      <button type=\"submit\">Soumettre</button>\n    </form>\n  );\n};\n\nexport default FactureForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}